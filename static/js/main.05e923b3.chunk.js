(this["webpackJsonprectangles-no-7"]=this["webpackJsonprectangles-no-7"]||[]).push([[0],{15:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var r=n(1),l=n.n(r),c=n(9),i=n.n(c),a=(n(15),n(2));window.p5=a;n(17);var o=n(10),s=n(0);function d(){return Object(s.jsxs)("svg",{id:"play-icon",className:"fade-out",xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",children:[Object(s.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(s.jsx)("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})]})}var u=n.p+"static/media/rectangles-no-7.9aa35d79.ogg",h=n.p+"static/media/rectangles-no-7.da7871b3.mid",g=function(){var e=Object(r.useRef)(),t=function(e){e.canvas=null,e.canvasWidth=window.innerWidth,e.canvasHeight=window.innerHeight,e.audioLoaded=!1,e.player=null,e.PPQ=15360,e.loadMidi=function(){o.Midi.fromUrl(h).then((function(t){console.log(t);var n=t.tracks[5].notes,r=t.tracks[9].notes,l=t.tracks[6].notes;e.scheduleCueSet(n,"executeCueSet1"),e.scheduleCueSet(r,"executeCueSet2"),e.scheduleCueSet(l,"executeCueSet3"),e.audioLoaded=!0,document.getElementById("loader").classList.add("loading--complete"),document.getElementById("play-icon").classList.remove("fade-out")}))},e.preload=function(){e.song=e.loadSound(u,e.loadMidi),e.song.onended(e.logCredits)},e.scheduleCueSet=function(t,n){for(var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=-1,c=1,i=0;i<t.length;i++){var a=t[i],o=a.ticks,s=a.time;(o!==l||r)&&(a.currentCue=c,e.song.addCue(s,e[n],a),l=o,c++)}},e.aspectRatio=0,e.cellSize=0,e.cells=[],e.cellW=0,e.cellH=0,e.nbCellW=0,e.nbCellH=0,e.prevX=0,e.prevY=0,e.currentX=0,e.currentY=0,e.prevX2=0,e.prevY2=0,e.currentX2=0,e.currentY2=0,e.globalOpacity=1,e.setup=function(){e.canvas=e.createCanvas(e.canvasWidth,e.canvasHeight),e.background(0),e.rectMode(e.CENTER),e.colorMode(e.HSB,1),e.cellW=e.width/96,e.cellH=e.height/54,e.nbCellW=Math.floor(e.width/e.cellW),e.nbCellH=Math.floor(e.height/e.cellH);for(var t=0;t<e.nbCellW*e.nbCellH;t++)e.cells.push(e.createVector(0,0));e.currentX=e.width/2,e.currentY=e.height/2,e.currentX2=e.width/2,e.currentY2=e.height/2},e.draw=function(){e.audioLoaded&&e.song.isPlaying()},e.drawCellSet1=function(){for(var t=e.createVector(e.currentX-e.prevX,e.currentY-e.prevY),n=0;n<e.nbCellW;n++)for(var r=0;r<e.nbCellH;r++){var l=n+r*e.nbCellW,c=e.cellW*n+e.cellW/2,i=e.cellH*r+e.cellH/2,a=Math.max(1,e.dist(e.currentX,e.currentY,c,i));t.normalize(),t.mult(1/(30*a)),e.cells[l].add(t),e.cells[l].limit(10);var o=e.map(e.cells[l].heading(),-e.PI,e.PI,0,1),s=e.min(100*e.cells[l].mag(),10);e.fill(o,1,s,e.globalOpacity),e.rect(c,i,e.cellW,e.cellH),e.cells[l].mult(.98)}},e.drawCellSet2=function(){for(var t=e.createVector(e.currentX2-e.prevX2,e.currentY2-e.prevY2),n=0;n<e.nbCellW;n++)for(var r=0;r<e.nbCellH;r++){var l=n+r*e.nbCellW,c=e.cellW*n+e.cellW/2,i=e.cellH*r+e.cellH/2,a=Math.max(1,e.dist(e.currentX2,e.currentY2,c,i));t.normalize(),t.mult(1/(30*a)),e.cells[l].add(t),e.cells[l].limit(10);var o=e.map(e.cells[l].heading(),-e.PI,e.PI,0,1),s=e.min(100*e.cells[l].mag(),10);e.fill(o,s,1,e.globalOpacity),e.rect(c,i,e.cellW,e.cellH),e.cells[l].mult(.98)}},e.executeCueSet1=function(t){var n=t.currentCue;e.globalOpacity=n%2===0?.6:.3;var r=[{x:e.width/48,y:e.height/27},{x:e.width/32,y:e.height/18},{x:e.width/16,y:e.height/9},{x:e.width/12,y:e.height/6}];if(n<=24){e.cells=[],e.cellW=n%2===0?e.width/96:r[(n%8-1)/2].x,e.cellH=n%2===0?e.height/54:r[(n%8-1)/2].y,e.nbCellW=Math.floor(e.width/e.cellW),e.nbCellH=Math.floor(e.height/e.cellH);for(var l=0;l<e.nbCellW*e.nbCellH;l++)e.cells.push(e.createVector(0,0))}},e.executeCueSet2=function(t){t.currentCue;var n=t.midi;e.prevX=e.currentX,e.prevY=e.currentY,e.currentX=n>70?e.random(e.width/2,e.width):e.random(0,e.width/2),e.currentY=e.random(0,e.height);for(var r=0;r<5;r++)setTimeout((function(){e.drawCellSet1()}),5*r)},e.executeCueSet3=function(t){var n=t.currentCue%3;e.globalOpacity=.5,e.prevX2=e.currentX2,e.prevY2=e.currentY2,e.currentX2=e.width/2,e.currentY2=e.height/4*(n+1);for(var r=0;r<5;r++)setTimeout((function(){e.drawCellSet2()}),2*r)},e.mousePressed=function(){e.audioLoaded&&(e.song.isPlaying()?e.song.pause():(parseInt(e.song.currentTime())>=parseInt(e.song.buffer.duration)&&e.reset(),document.getElementById("play-icon").classList.add("fade-out"),e.song.play()))},e.creditsLogged=!1,e.logCredits=function(){!e.creditsLogged&&parseInt(e.song.currentTime())>=parseInt(e.song.buffer.duration)&&(e.creditsLogged=!0,console.log("Music By: http://labcat.nz/","\n","Animation By: https://github.com/LABCAT/","\n","Coding Inspiration: https://openprocessing.org/sketch/849430"),e.song.stop())},e.reset=function(){},e.updateCanvasDimensions=function(){e.canvasWidth=window.innerWidth,e.canvasHeight=window.innerHeight,e.canvas=e.resizeCanvas(e.canvasWidth,e.canvasHeight)},window.attachEvent?window.attachEvent("onresize",(function(){e.updateCanvasDimensions()})):window.addEventListener&&window.addEventListener("resize",(function(){e.updateCanvasDimensions()}),!0)};return Object(r.useEffect)((function(){new a(t,e.current)}),[]),Object(s.jsx)("div",{ref:e,children:Object(s.jsx)(d,{})})};var v=function(){return Object(s.jsx)(g,{})};i.a.render(Object(s.jsx)(l.a.StrictMode,{children:Object(s.jsx)(v,{})}),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.05e923b3.chunk.js.map